(this["webpackJsonpPartner-Visa-Manager"]=this["webpackJsonpPartner-Visa-Manager"]||[]).push([[0],{39:function(e,t,a){},46:function(e,t,a){e.exports=a(82)},76:function(e,t,a){},77:function(e,t){},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(40),o=a.n(s),l=a(10),c=a(11),i=a(5),u=a(14),m=a(13),d=a(18),h=a.n(d),p=a(3),g=a(22),b=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={username:"",password:"",confirmPassword:""},e.handleSubmit=e.handleSubmit.bind(Object(i.a)(e)),e.handleChange=e.handleChange.bind(Object(i.a)(e)),e}return Object(c.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;console.log("sign-up handleSubmit, username: "),console.log(this.state.username),e.preventDefault(),h.a.post("/user/",{username:this.state.username,password:this.state.password}).then((function(e){console.log(e),e.data.errmsg?console.log("username already taken"):(console.log("successful signup"),t.setState({redirectTo:"/login"}))})).catch((function(e){console.log("signup error: "),console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"SignupForm"},r.a.createElement("h4",null,"Sign up"),r.a.createElement("form",{className:"form-horizontal"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",htmlFor:"username"},"Username")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",type:"text",id:"username",name:"username",placeholder:"Username",value:this.state.username,onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",htmlFor:"password"},"Password: ")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",placeholder:"password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group "},r.a.createElement("div",{className:"col-7"}),r.a.createElement("button",{className:"btn btn-primary col-1 col-mr-auto",onClick:this.handleSubmit,type:"submit"},"Sign up"))))}}]),a}(n.Component),f=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={username:"",password:"",redirectTo:null},e.handleSubmit=e.handleSubmit.bind(Object(i.a)(e)),e.handleChange=e.handleChange.bind(Object(i.a)(e)),e}return Object(c.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),console.log("handleSubmit"),h.a.post("/user/login",{username:this.state.username,password:this.state.password}).then((function(e){console.log("login response: "),console.log(e),200===e.status&&(t.props.updateUser({loggedIn:!0,username:e.data.username}),t.setState({redirectTo:"/"}))})).catch((function(e){console.log("login error: "),console.log(e)}))}},{key:"render",value:function(){return this.state.redirectTo?r.a.createElement(p.a,{to:{pathname:this.state.redirectTo}}):r.a.createElement("div",null,r.a.createElement("h4",null,"Login"),r.a.createElement("form",{className:"form-horizontal"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",htmlFor:"username"},"Username")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",type:"text",id:"username",name:"username",placeholder:"Username",value:this.state.username,onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",htmlFor:"password"},"Password: ")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",placeholder:"password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group "},r.a.createElement("div",{className:"col-7"}),r.a.createElement("button",{className:"btn btn-primary col-1 col-mr-auto",onClick:this.handleSubmit,type:"submit"},"Login"))))}}]),a}(n.Component),E=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.call(this)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"It's good to be home"),r.a.createElement("img",{style:{width:400},src:"https://i.ytimg.com/vi/N1icEHtgb3g/maxresdefault.jpg"}))}}]),a}(n.Component),v=a(7),y=(a(39),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).logout=e.logout.bind(Object(i.a)(e)),e}return Object(c.a)(a,[{key:"logout",value:function(e){var t=this;e.preventDefault(),console.log("logging out"),h.a.post("/user/logout").then((function(e){console.log(e.data),200===e.status&&t.props.updateUser({loggedIn:!1,username:null})})).catch((function(e){console.log("Logout error")}))}},{key:"render",value:function(){var e=this.props.loggedIn;return console.log("navbar render, props: "),console.log(this.props),r.a.createElement("div",null,r.a.createElement("header",{className:"navbar App-header",id:"nav-container"},r.a.createElement("div",{className:"col-4"},e?r.a.createElement("section",{className:"navbar-section"},r.a.createElement(v.b,{to:"#",className:"btn btn-link text-secondary",onClick:this.logout},r.a.createElement("span",{className:"text-secondary"},"logout")),r.a.createElement(v.b,{to:"/documents",className:"btn btn-link text-secondary"},r.a.createElement("span",{className:"text-secondary"},"visa documents")),r.a.createElement(v.b,{to:"/documents",className:"btn btn-link text-secondary"},r.a.createElement("span",{className:"text-secondary"},"upload documents")),r.a.createElement(v.b,{to:"/news",className:"btn btn-link text-secondary"},r.a.createElement("span",{className:"text-secondary"},"news"))):r.a.createElement("section",{className:"navbar-section"},r.a.createElement(v.b,{to:"/",className:"btn btn-link text-secondary"},r.a.createElement("span",{className:"text-secondary"},"home")),r.a.createElement(v.b,{to:"/login",className:"btn btn-link text-secondary"},r.a.createElement("span",{className:"text-secondary"},"login")),r.a.createElement(v.b,{to:"/signup",className:"btn btn-link"},r.a.createElement("span",{className:"text-secondary"},"sign up")))),r.a.createElement("div",{className:"col-4 col-mr-auto"},r.a.createElement("div",{id:"top-filler"}),r.a.createElement("h1",{className:"App-title"},"My Partner Visa Manager"))))}}]),a}(n.Component)),N=a(17),w=a(45),C=a(83),O=a(85),k=function(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=r.a.useState(t),n=Object(N.a)(a,2),s=n[0],o=n[1],l=r.a.useMemo((function(){var t=Object(w.a)(e);return null!==s&&t.sort((function(e,t){return e[s.key]<t[s.key]?"ascending"===s.direction?-1:1:e[s.key]>t[s.key]?"ascending"===s.direction?1:-1:0})),t}),[e,s]),c=function(e){var t="ascending";s&&s.key===e&&"ascending"===s.direction&&(t="descending"),o({key:e,direction:t})};return{documents:l,requestSort:c,sortConfig:s}}(e.documents),a=t.documents,n=t.requestSort,s=t.sortConfig,o=function(e){if(s)return s.key===e?s.direction:void 0};return r.a.createElement(C.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement(O.a,{onClick:function(){return n("id")},className:o("id")},"ID")),r.a.createElement("th",null,r.a.createElement(O.a,{onClick:function(){return n("name")},className:o("name")},"Name")),r.a.createElement("th",null,r.a.createElement(O.a,{onClick:function(){return n("type")},className:o("type")},"Type")),r.a.createElement("th",null,r.a.createElement(O.a,{onClick:function(){return n("status")},className:o("status")},"Value")),r.a.createElement("th",null,r.a.createElement(O.a,{onClick:function(){return n("source")},className:o("source")},"Source")),r.a.createElement("th",null,"Contact"))),r.a.createElement("tbody",null,a.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.type),r.a.createElement("td",null,e.status),r.a.createElement("td",null,e.source),r.a.createElement("td",null,e.contact))}))))},j=[{id:1,name:"Passport",type:"Identity",status:"Required",source:"Passport Office",contact:"https://www.passports.gov.au/"},{id:2,name:"Birth Certificate",type:"Identity",status:"Preferred",source:"Births, Deaths and Marriages",contact:"https://www.nsw.gov.au/births-deaths-marriages"},{id:3,name:"Police Certificate",type:"Character",status:"Required",source:"Australian Federal Police",contact:"https://afpnationalpolicechecks.converga.com.au/"},{id:4,name:"Marriage Certificate",type:"Relationship Evidence",status:"Required (if married)",source:"NSW Government Services",contact:"https://www.nsw.gov.au/topics/marriages/marriage-certificates"},{id:5,name:"Relationship Certificate",type:"Relationship Evidence",status:"Required (if not married)",source:"NSW Government Services",contact:"https://www.nsw.gov.au/living-nsw/family-and-relationships/relationship-register"},{id:6,name:"Lease Document (12 months or more)",type:"Cohabitation Evidence",status:"Preferred. Other Cohabitation evidence possible if NA",source:"Landlord",contact:"landlord/real estate agent"},{id:7,name:"Correspondence to shared address (12 months or more)",type:"Cohabitation Evidence",status:"Required if no lease document available",source:"Personal records",contact:"Obtain previous correspondence from utility/government agency"},{id:8,name:"Health Records",type:"Health",status:"Required (if you have an ongoing health condition)",source:"Personal Records",contact:"Local GP"},{id:9,name:"Photograph Booklet",type:"Relationship Evidence",status:"Preferred (if not married)",source:"Personal Records",contact:"Family and friends"},{id:10,name:"Children birth certificates",type:"Identity",status:"Required (if children)",source:"Passsport Office",contact:"https://www.passports.gov.au/"},{id:11,name:"Children passports",type:"Identity",status:"Required (if children)",source:"Passport Office",contact:"https://www.nsw.gov.au/births-deaths-marriages"}],S=a(86),P=a(87),x=function(e){return r.a.createElement(S.a,{className:"mb-3"},r.a.createElement(P.a,{name:"term",type:"text",placeholder:"Search for Document",className:" mr-sm-2",size:"lg",value:e.search,onChange:e.onSearch,id:"term"}))},U=a(84),I=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{fluid:!0,className:"footerContainer"},r.a.createElement("div",{className:"footerDiv"},r.a.createElement("p",null,"\xa9 Partner Visa Manager. All Rights Reserved."))))},L=a(41),R=a.n(L),M=function(e){var t=Object(n.useState)({name:""}),a=Object(N.a)(t,2),s=a[0],o=a[1];Object(n.useEffect)((function(){var t=e.steps.name;o({name:t})}),[e]);var l=s.name;return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("h3",null,"Summary"),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,l.value," is your most important document")))))};M.defaultProps={steps:void 0};var D=M,q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(R.a,{steps:[{id:"1",message:"What document can I help you with?",trigger:"name"},{id:"name",user:!0,trigger:"3"},{id:"3",message:"Great! Let me get that answer for you",trigger:"review"},{id:"review",component:r.a.createElement(D,null),asMessage:!0}]})}}]),a}(n.Component),F=(a(76),function(e){var t=Object(n.useState)(!1),a=Object(N.a)(t,2),s=a[0],o=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"footer"},"Footer"),r.a.createElement("div",{className:"bot"},r.a.createElement("div",{style:{display:s?"":"none"}},r.a.createElement(q,null)),r.a.createElement("div",null,s?r.a.createElement("button",{className:"btn",onClick:function(){o(!1)}},"click to hide... "):r.a.createElement("button",{className:"btn",onClick:function(){o(!0)}},"click to chat... "))))}),G=function(){var e=r.a.useState(j),t=Object(N.a)(e,1)[0],a=r.a.useState(""),n=Object(N.a)(a,2),s=n[0],o=n[1],l=t.filter((function(e){var t=e.name.toLowerCase().includes(s.toLowerCase()),a=e.type.toLowerCase().includes(s.toLowerCase()),n=e.status.toLowerCase().includes(s.toLowerCase()),r=e.source.toLowerCase().includes(s.toLowerCase()),o=e.contact.toLowerCase().includes(s.toLowerCase());return t||a||n||r||o}));return r.a.createElement("div",null,r.a.createElement(x,{onSearch:function(e){o(e.target.value)},search:s}),r.a.createElement(k,{documents:l}),r.a.createElement(I,null),r.a.createElement(F,null))},T=(a(77),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={loggedIn:!1,username:null},e.getUser=e.getUser.bind(Object(i.a)(e)),e.componentDidMount=e.componentDidMount.bind(Object(i.a)(e)),e.updateUser=e.updateUser.bind(Object(i.a)(e)),e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getUser()}},{key:"updateUser",value:function(e){this.setState(e)}},{key:"getUser",value:function(){var e=this;h.a.get("/user/").then((function(t){console.log("Get user response: "),console.log(t.data),t.data.user?(console.log("Get User: There is a user saved in the server session: "),e.setState({loggedIn:!0,username:t.data.user.username})):(console.log("Get user: no user"),e.setState({loggedIn:!1,username:null}))}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(y,{updateUser:this.updateUser,loggedIn:this.state.loggedIn}),this.state.loggedIn&&r.a.createElement("p",null,"Welcome, ",this.state.username,"!"),r.a.createElement(p.b,{exact:!0,path:"/",component:E}),r.a.createElement(p.b,{path:"/login",render:function(){return r.a.createElement(f,{updateUser:e.updateUser})}}),r.a.createElement(p.b,{path:"/signup",render:function(){return r.a.createElement(b,null)}}),r.a.createElement(p.b,{exact:!0,path:"/documents",component:G}))}}]),a}(n.Component));a(78),a(79),a(80),a(81);o.a.render(r.a.createElement(v.a,null,r.a.createElement(T,null)),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.cb63ee8d.chunk.js.map